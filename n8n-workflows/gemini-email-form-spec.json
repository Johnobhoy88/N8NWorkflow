{
  "project_summary": "Form submission workflow that processes user text input via Gemini Flash API and emails the AI-generated response to jpmcmillan67@gmail.com",
  "nodes_required": [
    {
      "name": "Form Trigger",
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2,
      "position": [250, 300],
      "parameters": {
        "path": "gemini-processor",
        "formTitle": "AI Text Processor",
        "formDescription": "Enter your text to be processed by Gemini AI",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Your Text",
              "fieldType": "textarea",
              "requiredField": true,
              "fieldOptions": {}
            }
          ]
        },
        "responseMode": "onReceived",
        "options": {}
      }
    },
    {
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [500, 300],
      "parameters": {
        "method": "POST",
        "url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "queryAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "key",
              "value": "AIzaSyDCZtX1HFvgqLkKsloGs6ORB8LaHUuwUOk"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({\n  \"contents\": [{\n    \"parts\": [{\n      \"text\": $json.formData['Your Text']\n    }]\n  }]\n}) }}"
      }
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [750, 300],
      "parameters": {
        "language": "javaScript",
        "jsCode": "const response = items[0].json;\nconst userInput = items[0].json.formData ? items[0].json.formData['Your Text'] : 'N/A';\n\nlet aiResponse = 'No response generated';\n\nif (response.candidates && response.candidates.length > 0) {\n  const candidate = response.candidates[0];\n  if (candidate.content && candidate.content.parts && candidate.content.parts.length > 0) {\n    aiResponse = candidate.content.parts[0].text;\n  }\n}\n\nreturn {\n  json: {\n    userInput: userInput,\n    aiResponse: aiResponse,\n    processedAt: new Date().toISOString()\n  }\n};"
      }
    },
    {
      "name": "Send Email",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [1000, 300],
      "parameters": {
        "fromEmail": "noreply@n8n.io",
        "toEmail": "jpmcmillan67@gmail.com",
        "subject": "Gemini AI Processing Result",
        "emailType": "html",
        "message": "=<h2>AI Processing Complete</h2>\n<p><strong>User Input:</strong></p>\n<p>{{ $json.userInput }}</p>\n<hr>\n<p><strong>AI Response:</strong></p>\n<p>{{ $json.aiResponse }}</p>\n<hr>\n<p><em>Processed at: {{ $json.processedAt }}</em></p>"
      }
    }
  ],
  "connection_paths": [
    "Form Trigger → HTTP Request",
    "HTTP Request → Code",
    "Code → Send Email"
  ],
  "data_schema": {
    "form_output": {
      "formData": {"Your Text": "string"},
      "submittedAt": "ISO timestamp"
    },
    "http_output": {
      "candidates": [{"content": {"parts": [{"text": "string"}]}}]
    },
    "code_output": {
      "userInput": "string",
      "aiResponse": "string",
      "processedAt": "ISO timestamp"
    }
  }
}
